{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function WeatherSearch(){const[city,setCity]=useState(\"\");const[loaded,setLoaded]=useState(false);const[weather,setWeather]=useState({});function displayWeather(response){setLoaded(true);setWeather({temperature:response.data.main.temp,wind:response.data.wind.speed,humidity:response.data.main.humidity,icon:\"http://openweathermap.org/img/wn/\".concat(response.data.weather[0].icon,\"@2x.png\")});}function doSubmit(event){event.preventDefault();let url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=489fe1e0a45c1dabec6c6cd0f055d12a&units=metric\");axios.get(url).then(displayWeather);}function updateCity(event){setCity(event.target.value);}let form=/*#__PURE__*/_jsxs(\"form\",{onSubmit:doSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",placeholder:\"Type the city\",onChange:updateCity}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Search\"})]});if(loaded){return/*#__PURE__*/_jsxs(\"div\",{children:[form,/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[\"Temperature: \",Math.round(weather.temperature),\"\\u2103\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Wind: \",weather.wind,\"km/h\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[\"Humidity: \",weather.humidity,\"%\"]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"img\",{src:weather.icon,alt:\"Weather Icon\"})})]})]});}else{return form;}}","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","WeatherSearch","city","setCity","loaded","setLoaded","weather","setWeather","displayWeather","response","temperature","data","main","temp","wind","speed","humidity","icon","concat","doSubmit","event","preventDefault","url","get","then","updateCity","target","value","form","onSubmit","children","type","placeholder","onChange","Math","round","src","alt"],"sources":["/Users/massimilianonegrinelli/Desktop/weather-react/src/WeatherSearch.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nexport default function WeatherSearch() {\n  const [city, setCity] = useState(\"\");\n  const [loaded, setLoaded] = useState(false);\n  const [weather, setWeather] = useState({});\n\n  function displayWeather(response) {\n    setLoaded(true);\n    setWeather({\n      temperature: response.data.main.temp,\n      wind: response.data.wind.speed,\n      humidity: response.data.main.humidity,\n      icon: `http://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`,\n    });\n  }\n\n  function doSubmit(event) {\n    event.preventDefault();\n    let url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=489fe1e0a45c1dabec6c6cd0f055d12a&units=metric`;\n    axios.get(url).then(displayWeather);\n  }\n  function updateCity(event) {\n    setCity(event.target.value);\n  }\n\n  let form = (\n    <form onSubmit={doSubmit}>\n      <input type=\"search\" placeholder=\"Type the city\" onChange={updateCity} />\n      <input type=\"submit\" value=\"Search\" />\n    </form>\n  );\n\n  if (loaded) {\n    return (\n      <div>\n        {form}\n        <ul>\n          <li>Temperature: {Math.round(weather.temperature)}â„ƒ</li>\n          <li>Wind: {weather.wind}km/h</li>\n          <li>Humidity: {weather.humidity}%</li>\n          <li>\n            <img src={weather.icon} alt=\"Weather Icon\" />\n          </li>\n        </ul>\n      </div>\n    );\n  } else {\n    return form;\n  }\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1B,cAAe,SAAS,CAAAC,aAAaA,CAAA,CAAG,CACtC,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAACS,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAE1C,QAAS,CAAAa,cAAcA,CAACC,QAAQ,CAAE,CAChCJ,SAAS,CAAC,IAAI,CAAC,CACfE,UAAU,CAAC,CACTG,WAAW,CAAED,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACC,IAAI,CACpCC,IAAI,CAAEL,QAAQ,CAACE,IAAI,CAACG,IAAI,CAACC,KAAK,CAC9BC,QAAQ,CAAEP,QAAQ,CAACE,IAAI,CAACC,IAAI,CAACI,QAAQ,CACrCC,IAAI,qCAAAC,MAAA,CAAsCT,QAAQ,CAACE,IAAI,CAACL,OAAO,CAAC,CAAC,CAAC,CAACW,IAAI,WACzE,CAAC,CAAC,CACJ,CAEA,QAAS,CAAAE,QAAQA,CAACC,KAAK,CAAE,CACvBA,KAAK,CAACC,cAAc,CAAC,CAAC,CACtB,GAAI,CAAAC,GAAG,sDAAAJ,MAAA,CAAwDhB,IAAI,wDAAsD,CACzHN,KAAK,CAAC2B,GAAG,CAACD,GAAG,CAAC,CAACE,IAAI,CAAChB,cAAc,CAAC,CACrC,CACA,QAAS,CAAAiB,UAAUA,CAACL,KAAK,CAAE,CACzBjB,OAAO,CAACiB,KAAK,CAACM,MAAM,CAACC,KAAK,CAAC,CAC7B,CAEA,GAAI,CAAAC,IAAI,cACN5B,KAAA,SAAM6B,QAAQ,CAAEV,QAAS,CAAAW,QAAA,eACvBhC,IAAA,UAAOiC,IAAI,CAAC,QAAQ,CAACC,WAAW,CAAC,eAAe,CAACC,QAAQ,CAAER,UAAW,CAAE,CAAC,cACzE3B,IAAA,UAAOiC,IAAI,CAAC,QAAQ,CAACJ,KAAK,CAAC,QAAQ,CAAE,CAAC,EAClC,CACP,CAED,GAAIvB,MAAM,CAAE,CACV,mBACEJ,KAAA,QAAA8B,QAAA,EACGF,IAAI,cACL5B,KAAA,OAAA8B,QAAA,eACE9B,KAAA,OAAA8B,QAAA,EAAI,eAAa,CAACI,IAAI,CAACC,KAAK,CAAC7B,OAAO,CAACI,WAAW,CAAC,CAAC,QAAC,EAAI,CAAC,cACxDV,KAAA,OAAA8B,QAAA,EAAI,QAAM,CAACxB,OAAO,CAACQ,IAAI,CAAC,MAAI,EAAI,CAAC,cACjCd,KAAA,OAAA8B,QAAA,EAAI,YAAU,CAACxB,OAAO,CAACU,QAAQ,CAAC,GAAC,EAAI,CAAC,cACtClB,IAAA,OAAAgC,QAAA,cACEhC,IAAA,QAAKsC,GAAG,CAAE9B,OAAO,CAACW,IAAK,CAACoB,GAAG,CAAC,cAAc,CAAE,CAAC,CAC3C,CAAC,EACH,CAAC,EACF,CAAC,CAEV,CAAC,IAAM,CACL,MAAO,CAAAT,IAAI,CACb,CACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}